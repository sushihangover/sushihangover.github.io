<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Llvm | SushiHangover]]></title>
  <link href="http://sushihangover.github.io/blog/categories/llvm/atom.xml" rel="self"/>
  <link href="http://sushihangover.github.io/"/>
  <updated>2015-06-09T16:14:32-07:00</updated>
  <id>http://sushihangover.github.io/</id>
  <author>
    <name><![CDATA[RobertN]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Mono - Speeding Up Your Llvm Compile]]></title>
    <link href="http://sushihangover.github.io/mono-speeding-up-your-llvm-compile/"/>
    <updated>2015-06-09T07:42:41-07:00</updated>
    <id>http://sushihangover.github.io/mono-speeding-up-your-llvm-compile</id>
    <content type="html"><![CDATA[<p><img class="left <a" src="href="http://sushihangover.github.io/images/mono-logo.png">http://sushihangover.github.io/images/mono-logo.png</a>"> If you are building llvm so you can then configure and build mono to use it, then you can speed up the compile by removing the tests as they take as long, if not longer, then the llvm runtime binaries.</p>

<p>I could not find a llvm configure option to skip the <strong>test</strong> directory, but you you just delete it (or move it out of the llvm directory) before you configure/compile llvm, then you will receive a warning that it was not find, but the compile will proceed normally.</p>

<p>Note: You could also mod the llvm configuration (configure/Makefile) to skip the tests.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mono - Using Llvm? Make Sure Your Targets Match]]></title>
    <link href="http://sushihangover.github.io/mono-using-llvm/"/>
    <updated>2015-06-09T07:21:58-07:00</updated>
    <id>http://sushihangover.github.io/mono-using-llvm</id>
    <content type="html"><![CDATA[<p><img class="left <a" src="href="http://sushihangover.github.io/images/mono-logo.png">http://sushihangover.github.io/images/mono-logo.png</a>"> When configuring Mono to use llvm, if you receive the error:</p>

<p><strong>configure: error: Cross compiling is not supported for target i386-apple-darwin11.2.0</strong></p>

<p>Then the llvm-config that is currently the first hit in your path and that is begin picked up by the mono autogen/configure script is does not match the target that you are trying to build in mono.</p>

<p><strong>llvm-config &ndash;host-target</strong> should help you out and change your path so the correct llvm bin directory is first in the list so when mono&rsquo;s configure runs llvm-config it gets the correct info.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Stripping the Build Prefix From Cross-compiled Binaries]]></title>
    <link href="http://sushihangover.github.io/stripping-the-build-prefix-from-cross-compiled-b-binaries/"/>
    <updated>2015-06-09T06:14:24-07:00</updated>
    <id>http://sushihangover.github.io/stripping-the-build-prefix-from-cross-compiled-b-binaries</id>
    <content type="html"><![CDATA[<h2>Remove a filename prefix from a directory of files</h2>

<p>When cross-compiling and using the standard autogen/configure &ldquo;-build=&rdquo; option, you end up with binaries that have the arch prefix on your binaries. While this makes sense in order to distinguish that the binaries are different, there are times you do not want to deal with the issue of using these prefixes all the time.</p>

<p>Here is a simple script to strip those prefixes:</p>

<pre><code>#!/bin/bash
if [ -z "$1" ]
then
  prefix="i386-apple-darwin14.3.0-"
else
  prefix=$1
fi
for filename in `ls $prefix*`
do
   newfilename=${filename:${#prefix}}
   echo $filename $newfilename
   mv $filename $newfilename
done
</code></pre>

<p>I seem to be stripping &ldquo;i386-apple-darwin14.3.0-&rdquo; lately so that is the default if no prefix is passed as an argument&hellip;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[LLVM 3.4.1]]></title>
    <link href="http://sushihangover.github.io/llvm-3-dot-4-1/"/>
    <updated>2014-04-12T06:05:07-07:00</updated>
    <id>http://sushihangover.github.io/llvm-3-dot-4-1</id>
    <content type="html"><![CDATA[<p><a href="http://heartbleed.com"><img class="left" src="/images/llvm_logo_small.png" title="&ldquo;LLVM&rdquo;" ></a>Point releases are coming to the <a href="http://www.llvm.org">LLVM</a> compiler infrastructure with the LLVM 3.4.1 release just a few days away.</p>

<p>Surround your pullquote like this {" text to be quoted "}</p>

<p>The official LLVM 3.4.1 release is planned for 4-18 assuming that all of the testing goes well. Details for testing can be found via the<a href="http://lists.cs.uiuc.edu/pipermail/llvmdev/2014-April/072066.html"> LLVM mailing list</a>.</p>

<p>I am staying on the bleeding-edge for my bare metal ARM work, so I will continue to stay on the master branch (3.5.0):</p>

<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>./clang &ndash;version
</span><span class='line'>clang version 3.5.0
</span><span class='line'>Target: arm-none&ndash;eabi
</span><span class='line'>Thread model: posix</span></code></pre></td></tr></table></div></figure></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ARM: LLVM and Why No GPL]]></title>
    <link href="http://sushihangover.github.io/arm-llvm-and-why-no-gpl/"/>
    <updated>2014-04-11T07:28:16-07:00</updated>
    <id>http://sushihangover.github.io/arm-llvm-and-why-no-gpl</id>
    <content type="html"><![CDATA[<p>As a follow up to my last post about ARM&rsquo;s annoucement concerning their move to clang/LLVM.</p>

<p>Seems that more of the GPL-only mindset are upset that ARM is another company that is picking up and carrying the LLVM torch for their future development activities.</p>

<p>My take on it is it is a good thing, something they could not do with GCC without violating the GPL license that they would have to follow.  Clang/LLVM is licensed with a BSD-style license and not wanting to get in to a religious war over open source licensing, their LLVM selection and thus license choice allows them to keep things proprietary while working on new designs and code and releasing that to development partners like they currently do with their in-house ARM/Keli development environment. Then there is the problem of linking and including non-open code in end-user projects if they would have chosen GCC, this is a non-trivial problem for private and public companies dealing with IP that has extreme competition.</p>

<p>As ARM&rsquo;s new designs become public, they can then push LLVM changes to the public branch and, we as end-users, then get to enjoy the benefits of what they can release. Will there be code components that they alway keep private and/or charge for in their commerical &lsquo;ulitmate&rsquo; compiler version, maybe, but the code that does make it to the git repo will be vetted by the company that actually produces the MCU designs. Good enough for me, GPL be damned in this case&hellip;</p>
]]></content>
  </entry>
  
</feed>
