<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: mono | SushiHangover]]></title>
  <link href="http://sushihangover.github.io/blog/categories/mono/atom.xml" rel="self"/>
  <link href="http://sushihangover.github.io/"/>
  <updated>2016-11-13T15:49:44-08:00</updated>
  <id>http://sushihangover.github.io/</id>
  <author>
    <name><![CDATA[RobertN]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Sharpen - Part 3]]></title>
    <link href="http://sushihangover.github.io/sharpen-part-3/"/>
    <updated>2016-09-25T13:12:19-07:00</updated>
    <id>http://sushihangover.github.io/sharpen-part-3</id>
    <content type="html"><![CDATA[<h2>Sharpen</h2>

<p>Part 1: <a href="http://sushihangover.github.io/sharpen/">The correct Java version</a></p>

<p>Part 2: <a href="http://sushihangover.github.io/sharpen-part-2/">Building Sharpen</a></p>

<h3>Sharpen Support Classes:</h3>

<p>Converting your Java classes using the default config from <a href="https://github.com/ydanila">ydanila</a> you might want to look at the Sharpen support classes from <a href="https://github.com/mono/ngit"><code>ngit</code></a>:</p>

<ul>
<li><p><a href="https://github.com/mono/ngit/tree/master/Sharpen">https://github.com/mono/ngit/tree/master/Sharpen</a></p></li>
<li><p><a href="https://github.com/mono/ngit/tree/master/Sharpen.Unix">https://github.com/mono/ngit/tree/master/Sharpen.Unix</a></p></li>
</ul>


<h3>Type.FullName:</h3>

<pre><code>Sharpen.AccessController
Sharpen.AList`1
Sharpen.Arrays
Sharpen.AtomicInteger
Sharpen.AtomicLong
Sharpen.AtomicReference`1
Sharpen.AtomicReferenceArray`1
Sharpen.BufferedInputStream
Sharpen.BufferedOutputStream
Sharpen.BufferedReader
Sharpen.ByteArrayInputStream
Sharpen.ByteArrayOutputStream
Sharpen.Callable`1
Sharpen.CharBuffer
Sharpen.CharsetDecoder
Sharpen.CharsetEncoder
Sharpen.CodingErrorAction
Sharpen.Collections`1
Sharpen.Collections
Sharpen.ConcurrentHashMap`2
Sharpen.ConcurrentMap`2
Sharpen.CopyOnWriteArrayList`1
Sharpen.CountDownLatch
Sharpen.CRC32
Sharpen.CyclicBarrier
Sharpen.DataConverter
Sharpen.DataConverter+PackContext
Sharpen.DataConverter+CopyConverter
Sharpen.DataConverter+SwapConverter
Sharpen.DeflaterOutputStream
Sharpen.EnumerableWrapper`1
Sharpen.EnumeratorWrapper`1
Sharpen.Executors
Sharpen.FixedThreadPoolExecutorService
Sharpen.FutureBase
Sharpen.TaskFuture`1
Sharpen.CancellationException
Sharpen.RejectedExecutionException
Sharpen.ExecutorService
Sharpen.Extensions
Sharpen.FileChannel
Sharpen.FileChannel+MapMode
Sharpen.FileInputStream
Sharpen.FileLock
Sharpen.FileOutputStream
Sharpen.FileReader
Sharpen.FileWriter
Sharpen.Future`1
Sharpen.GZIPInputStream
Sharpen.GZIPOutputStream
Sharpen.InflaterInputStream
Sharpen.InheritableThreadLocal`1
Sharpen.InputStreamReader
Sharpen.LinkageError
Sharpen.LinkedHashMap`2
Sharpen.ListIterator`1
Sharpen.MappedByteBuffer
Sharpen.Matcher
Sharpen.MessageFormat
Sharpen.ObjectInputStream
Sharpen.ObjectOutputStream
Sharpen.OutputStreamWriter
Sharpen.Pattern
Sharpen.PipedInputStream
Sharpen.PipedOutputStream
Sharpen.PrintWriter
Sharpen.PrivilegedAction`1
Sharpen.RandomAccessFile
Sharpen.ReentrantLock
Sharpen.Reference`1
Sharpen.ReferenceQueue`1
Sharpen.Runtime
Sharpen.Runtime+ShutdownHook
Sharpen.SimpleDateFormat
Sharpen.SingletonList
Sharpen.SoftReference`1
Sharpen.SynchronizedList`1
Sharpen.Thread
Sharpen.ThreadGroup
Sharpen.TimeUnit
Sharpen.TimeUnitExtensions
Sharpen.WrappedSystemStream
Sharpen.AbstractCollection`1
Sharpen.AbstractList`1
Sharpen.AbstractList`1+SimpleIterator
Sharpen.AbstractMap`2
Sharpen.AbstractSet`1
Sharpen.Authenticator
Sharpen.ByteBuffer
Sharpen.ByteOrder
Sharpen.CharSequence
Sharpen.StringCharSequence
Sharpen.DigestOutputStream
Sharpen.EnumSet
Sharpen.EnumSet`1
Sharpen.VirtualMachineError
Sharpen.StackOverflowError
Sharpen.BrokenBarrierException
Sharpen.BufferUnderflowException
Sharpen.CharacterCodingException
Sharpen.DataFormatException
Sharpen.EOFException
Sharpen.Error
Sharpen.ExecutionException
Sharpen.InstantiationException
Sharpen.InterruptedIOException
Sharpen.MissingResourceException
Sharpen.NoSuchAlgorithmException
Sharpen.NoSuchElementException
Sharpen.NoSuchMethodException
Sharpen.OverlappingFileLockException
Sharpen.ParseException
Sharpen.RuntimeException
Sharpen.StringIndexOutOfBoundsException
Sharpen.UnknownHostException
Sharpen.UnsupportedEncodingException
Sharpen.URISyntaxException
Sharpen.ZipException
Sharpen.GitException
Sharpen.ConnectException
Sharpen.KeyManagementException
Sharpen.IllegalCharsetNameException
Sharpen.UnsupportedCharsetException
Sharpen.Executor
Sharpen.FilenameFilter
Sharpen.FilePath
Sharpen.FilterInputStream
Sharpen.FilterOutputStream
Sharpen.InputStream
Sharpen.Iterable`1
Sharpen.Iterator
Sharpen.Iterator`1
Sharpen.MessageDigest
Sharpen.MessageDigest`1
Sharpen.OutputStream
Sharpen.PasswordAuthentication
Sharpen.ResourceBundle
Sharpen.Runnable
Sharpen.TreeSet`1
Sharpen.LinkedHashSet`1
Sharpen.ProxySelector
Sharpen.Proxy
Sharpen.URLConnection
Sharpen.HttpsURLConnection
Sharpen.HttpURLConnection
Sharpen.URLEncoder
Sharpen.BitSet
Sharpen.Channels
Sharpen.BufferedWriter
Sharpen.X509TrustManager
Sharpen.X509Certificate
Sharpen.TrustManager
Sharpen.SSLContext
Sharpen.AtomicBoolean
Sharpen.ScheduledThreadPoolExecutor
Sharpen.ScheduledThreadPoolExecutor+Task`1
Sharpen.IScheduledITask
Sharpen.Scheduler
Sharpen.ThreadFactory
Sharpen.ThreadPoolExecutor
Sharpen.RunnableAction
Sharpen.JavaWeakReference`1
Sharpen.SystemProcess
Sharpen.DateFormat
Sharpen.DigestInputStream
Sharpen.FileHelper
Sharpen.JavaCalendar
Sharpen.JavaGregorianCalendar
&lt;PrivateImplementationDetails&gt;
&lt;PrivateImplementationDetails&gt;+$ArrayType=1024
Sharpen.FixedThreadPoolExecutorService+&lt;Submit&gt;c__AnonStorey0`1
Sharpen.Extensions+&lt;ContainsAll&gt;c__AnonStorey0`2
Sharpen.Extensions+&lt;Contains&gt;c__AnonStorey1`1
Sharpen.LinkedHashMap`2+&lt;Put&gt;c__AnonStorey0
Sharpen.LinkedHashMap`2+&lt;Remove&gt;c__AnonStorey1
Sharpen.AbstractMap`2+&lt;ContainsKey&gt;c__AnonStorey0
Sharpen.AbstractMap`2+&lt;Get&gt;c__AnonStorey1
Sharpen.Scheduler+&lt;HasTasks&gt;c__AnonStorey0
</code></pre>

<h3>Via:</h3>

<pre><code>Assembly assembly = Assembly.ReflectionOnlyLoad("Sharpen");
foreach (Type type in assembly.GetTypes())
{
   Console.WriteLine(type.FullName);
}
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Sharpen - Part 2]]></title>
    <link href="http://sushihangover.github.io/sharpen-part-2/"/>
    <updated>2016-09-25T12:33:03-07:00</updated>
    <id>http://sushihangover.github.io/sharpen-part-2</id>
    <content type="html"><![CDATA[<h2>Sharpen Setup</h2>

<h3>Get Maven:</h3>

<pre><code>brew install maven
</code></pre>

<h3>Check Maven:</h3>

<pre><code>mvn --version

Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T08:41:47-08:00)
Maven home: /usr/local/Cellar/maven/3.3.9/libexec
Java version: 1.8.0_92, vendor: Oracle Corporation
Java home: /Library/Java/JavaVirtualMachines/jdk1.8.0_92.jdk/Contents/Home/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "mac os x", version: "10.11.6", arch: "x86_64", family: "mac"
</code></pre>

<h3>Clone the repo(s):</h3>

<pre><code>git clone https://github.com/mono/sharpen.git
git clone https://github.com/ydanila/sharpen_imazen_config.git
</code></pre>

<h3>Set your Java/JDK version to 1.7</h3>

<ul>
<li><a href="http://sushihangover.github.io/sharpen/">http://sushihangover.github.io/sharpen/</a></li>
</ul>


<h3>Build the Sharpen config:</h3>

<pre><code>pushd sharpen_imazen_config
mvn install
popd
</code></pre>

<p>Note: This is a sample config and a great starting point</p>

<h3>Build Sharpen</h3>

<h5>Note: Make sure that you are on the develop branch of Sharpen!</h5>

<pre><code>pushd sharpen
git checkout develop 
</code></pre>

<h4>Edit the <code>pom.xml</code> file so the cmd line <code>-help</code> option works:</h4>

<pre><code>git diff pom.xml

diff --git a/pom.xml b/pom.xml
index 1098a2d..4fedcbc 100644
--- a/pom.xml
+++ b/pom.xml
@@ -122,7 +122,7 @@
     &lt;testSourceDirectory&gt;src/test&lt;/testSourceDirectory&gt;
     &lt;resources&gt;
       &lt;resource&gt;
-        &lt;directory&gt;src/test/resources&lt;/directory&gt;
+        &lt;directory&gt;src/main/resources&lt;/directory&gt;
       &lt;/resource&gt;
     &lt;/resources&gt;
     &lt;testResources&gt;
</code></pre>

<p>mvn clean test
mvn install</p>

<h3>Running Sharpen:</h3>

<h4>Cmd line help:</h4>

<pre><code>java -jar ${PWD}/src/target/sharpencore-0.0.1-SNAPSHOT-jar-with-dependencies.jar -help     
</code></pre>

<h4>Convert Java to C# (with config)</h4>

<h5>Copy config:</h5>

<pre><code>cp ../sharpen_imazen_config/sharpen-all-options .
cp ../sharpen_imazen_config/sharpen.config/target/MEConfiguration.sharpenconfig .
</code></pre>

<h4>Run with config:</h4>

<pre><code>java -jar \
   ${PWD}/src/target/sharpencore-0.0.1-SNAPSHOT-jar-with-dependencies.jar \
   /Users/sushi/code/github/PlayScriptParser/src \
   -configurationClass \
   MEConfiguration.sharpenconfig-jar @sharpen-all-options

~~~
Configuration Class: sharpen.config.MEConfiguration
Configuration Class: Sharpen.Runtime
project: asc
Pascal case mode: NamespaceAndIdentifiers
Native type system mode on.
Separating interface constants to their own classes.
Organize usings mode on.
~~~
</code></pre>

<h4>Convert C# Location:</h4>

<p>Your converted C# classes will be located <strong>NEXT</strong> the original source directory, <code>/Users/sushi/code/github/PlayScriptParser</code>, in my case, the <strong>asc.net</strong> directory</p>

<pre><code>cd /Users/sushi/code/github/PlayScriptParser
ls -1
    asc.net
    build
    src
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Sharpen]]></title>
    <link href="http://sushihangover.github.io/sharpen/"/>
    <updated>2016-09-25T10:44:44-07:00</updated>
    <id>http://sushihangover.github.io/sharpen</id>
    <content type="html"><![CDATA[<p>I needed to convert some Java code to C# and one of the best ways that I ever found is to use <code>Sharpen</code>. This used to be available as a Eclipse plugin but you can find a cli version at Mono&rsquo;s Github account:</p>

<ul>
<li><a href="https://github.com/mono/sharpen">https://github.com/mono/sharpen</a></li>
</ul>


<p>One of the <em>issues</em> in running Sharpen is that it requires Java 1.7, <strong>NOT 1.6, nor 1.8.</strong>.</p>

<p>So you need to have a Java 7 install. An easy way if you are already using homebrew, is available via a cask:</p>

<pre><code>brew install Caskroom/versions/java7
</code></pre>

<p>Note: If you get errors, make sure that your casks are updated, <code>brew upgrade brew-cask</code></p>

<h4>Current JDK:</h4>

<pre><code>/usr/libexec/java_home
/Library/Java/JavaVirtualMachines/jdk1.8.0_92.jdk/Contents/Home
</code></pre>

<h4>Get a list of Install JDKs:</h4>

<pre><code>ls -l1 /Library/Java/JavaVirtualMachines/
1.6.0.jdk
jdk1.7.0_71.jdk
jdk1.7.0_80.jdk
jdk1.8.0_92.jdk
</code></pre>

<h4>Export a &ldquo;new home&rdquo;:</h4>

<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home
</code></pre>

<p>Now I can build and run <code>sharpen</code>, i.e.:</p>

<pre><code>mvn clean test
mvn install
java -jar src/target/sharpencore-0.0.1-SNAPSHOT-jar-with-dependencies.jar /Users/sushi/github/PlayParser
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Adding nuget packages to your MonoDevelop Addin Templates]]></title>
    <link href="http://sushihangover.github.io/adding-nuget-packages-to-your-addin-templates/"/>
    <updated>2016-01-01T21:48:44-08:00</updated>
    <id>http://sushihangover.github.io/adding-nuget-packages-to-your-addin-templates</id>
    <content type="html"><![CDATA[<p>I recently created nugets for the PlayScript AOT assemblies as well as a separtate MSBuild target nuget and it ended up working really well in a x-plat way.</p>

<p>But one thing that I could not find quickly was how to tag my templates with the package info so they are automatically installed when the solution/projects are created.</p>

<p>Well the answer was kind-of right under my nose (<a href="https://en.wikipedia.org/wiki/RTFM">RTFM</a>):</p>

<blockquote><p>Conditionally Adding a NuGet Package from a Project Template
A NuGet package be conditionally installed based on a boolean parameter defined by the project template wizard.</p></blockquote>

<pre><code>&lt;Packages&gt;
    &lt;Package id="Xamarin.GooglePlayServices" version="19.0.0.1" if="UseGooglePlayServices" /&gt;
&lt;/Packages&gt;
</code></pre>

<blockquote><p>The conditions that can be specified do not support the more complicated condition that grouped templates do.</p></blockquote>

<p>Re: <a href="http://www.monodevelop.com/developers/articles/project-templates/#conditionally-adding-a-nuget-package-from-a-project-template">Conditionally Adding a NuGet Package from a Project Template</a></p>

<p>So in my templates I currently do not have to lock them to a version and want the most recent ones available so I skip the version attribute:</p>

<pre><code>&lt;Packages&gt;
    &lt;Package id="PlayScript.AOT" /&gt;
    &lt;package id="PlayScript.MSBuild" /&gt;
&lt;/Packages&gt;
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[MSBuild / xbuild - Steps of a build]]></title>
    <link href="http://sushihangover.github.io/msbuild-slash-xbuild-steps-of-a-build/"/>
    <updated>2016-01-01T10:22:54-08:00</updated>
    <id>http://sushihangover.github.io/msbuild-slash-xbuild-steps-of-a-build</id>
    <content type="html"><![CDATA[<p>I&rsquo;m working on adding MSBuild style building to  PlayScript.</p>

<p>The end goal is two fold.</p>

<p>1st) To support the standard MSBuild process in order to allow VS/MD/XS&rsquo;s IDEs to use this std process via the project file&rsquo;s target import tag.</p>

<p>2nd) Can I replace the <em>compile</em> portion of the process (with the PlayScript compiler) so I directly create Xamarin.Mac, Xamarin.iOS and Xamarin.Android libraries that are written in PlayScript/ActionScript by using Xamarin&rsquo;s custom MSBuild process, but via a different compiler that produces the IL code?</p>

<p>A compiled PlayScript library (or exe) is <strong>just</strong> a standard CIL assembly and can be referenced by C# projects, Xamarin mobile projects or not, but directly referencing Xamarin iOS, Android or Mac libraries will not work as those project types are <em>special</em> (mainly licensing checks and build steps). So the 2nd part of this is really an experient is to see if we are stuck to only linking to PlayScript libraries or can we use PlayScript to directly code against the Xamarin&rsquo;s mobile libraries and still comply with their licensing/build process.</p>

<p>Building via the <code>psc</code> CLI compiler is almost identical to using <code>csc</code> or <code>mcs</code>. There are a few different options are available in order to support <em>some</em> of the ActionScript 3 compiler options, but I digress&hellip;</p>

<p>The normal MSBuild / xbuild steps to compile a CSharp project (<code>.csproj</code>) involved the following high-level Targets:</p>

<ul>
<li>PrepareForBuild:</li>
<li>CopyFilesMarkedCopyLocal:</li>
<li>GenerateSatelliteAssemblies:</li>
<li>CoreCompile:</li>
<li>DeployOutputFiles:</li>
</ul>


<p>Ignoring the multimedia pipeline processing of assets (images, SWFs, vector transformations, 3D models, etc..) the only step that we need to focus on is the <code>CoreCompile</code>:</p>

<p><strong>Import Project=&ldquo;$(MSBuildBinPath)\Microsoft.CSharp.targets&rdquo;</strong></p>

<pre><code>~~~
&lt;Target
        Name="CoreCompile"
        Inputs="$(MSBuildAllProjects);@(Compile);@(ManifestResourceWithNoCulture);@(ManifestNonResxWithNoCultureOnDisk);@(CompiledLicenseFile);
                $(KeyOriginatorFile);@(ReferencePath);$(Win32Icon);$(Win32Resource)"
        Outputs="@(DocFileItem);@(IntermediateAssembly)"
        DependsOnTargets="$(CoreCompileDependsOn)"&gt;
        &lt;Csc
                AdditionalLibPaths="$(AdditionalLibPaths)"
                AddModules="@(AddModules)"
                AllowUnsafeBlocks="$(AllowUnsafeBlocks)"
                BaseAddress="$(BaseAddress)"
~~~
                Win32Icon="$(Win32Icon)"
                Win32Resource="$(Win32Resource)"
                Resources="@(ManifestResourceWithNoCulture);@(ManifestNonResxWithNoCultureOnDisk);@(CompiledLicenseFile)"
                ToolExe="$(CscToolExe)"
                ToolPath="$(CscToolPath)" /&gt;

&lt;/Target&gt;
~~~
</code></pre>

<p>Looking at the <code>Csc</code> section, if I can replace <code>ToolExe</code> and <code>CscToolPath</code> properties then I can have this Target use PlayScript (<code>psc</code>) vs. <code>csc</code> or <code>mcs</code>.</p>

<p>So as a quick test, copying <code>Microsoft.CSharp.targets</code> to PlayScript.MSBuild.Targets<code>and adding this</code>PropertyGroup<code>section with hardcoded paths before the</code>CoreCompile` target section:</p>

<pre><code>    &lt;PropertyGroup&gt;
            &lt;PlayScriptBinPath Condition=" '$(PsBuildBinPath)' == '' "&gt;/Users/sushi/Library/Application Support/XamarinStudio-5.0/LocalInstall/Addins/MonoDevelop.PlayScript.5.10.2/MonoDevelop.PlayScript.SupportPackages&lt;/PlayScriptBinPath&gt;
            &lt;CscToolExe Condition=" '$(CscToolExe)' == '' "&gt;psc&lt;/CscToolExe&gt;
            &lt;CscToolPath Condition=" '$(CscToolPath)' == '' "&gt;$(PsBuildBinPath)&lt;/CscToolPath&gt;
    &lt;/PropertyGroup&gt;
</code></pre>

<p>And replacing:</p>

<pre><code>&lt;Import Project="$(MSBuildBinPath)\Microsoft.CSharp.targets" /&gt;
</code></pre>

<p>with:</p>

<pre><code>&lt;Import Project="packages\PlayScript.MSBuild.5.10.2.2\build\PlayScript.MSBuild.Targets" /&gt;
</code></pre>

<p><strong>>xbuild nuget-test.psproj</strong></p>

<pre><code>XBuild Engine Version 12.0
Mono, Version 4.2.2.0
Copyright (C) 2005-2013 Various Mono authors

Build started 1/1/2016 11:05:25 AM.
__________________________________________________
Project "/Users/sushi/code/XamTests/nuget-test/nuget-test.psproj" (default target(s)):
    Target PrepareForBuild:
        Configuration: Debug Platform: x86
    Target BeforeResolveReferences:
                         AssemblySearchPaths: {CandidateAssemblyFiles};{HintPathFromItem};{TargetFrameworkDirectory};{PkgConfig};{GAC};{RawFileName};bin/Debug/;/Users/sushi/mono/play32/bin
    Target GenerateSatelliteAssemblies:
    No input files were specified for target GenerateSatelliteAssemblies, skipping.
    Target GenerateTargetFrameworkMonikerAttribute:
    Skipping target "GenerateTargetFrameworkMonikerAttribute" because its outputs are up-to-date.
    Target CoreCompile:
         psc
         /Users/sushi/mono/play32/bin

        Tool /Users/sushi/mono/play32/bin/psc execution started with arguments: /noconfig /debug:full /debug+ /optimize- /out:obj/x86/Debug/nuget-test.exe Main.play /target:exe /define:DEBUG /nostdlib /platform:x86 /reference:/Library/Frameworks/Mono.framework/Versions/4.2.2/lib/mono/4.5/System.dll /reference:packages/PlayScript.AOT.5.10.2.0/lib/net45/PlayScript.Dynamic_aot.dll /reference:packages/PlayScript.AOT.5.10.2.0/lib/net45/pscorlib_aot.dll /reference:/Library/Frameworks/Mono.framework/Versions/4.2.2/lib/mono/4.5/System.Core.dll /reference:/Library/Frameworks/Mono.framework/Versions/4.2.2/lib/mono/4.5/mscorlib.dll /warn:4
    Target DeployOutputFiles:
        Copying file from '/Users/sushi/code/XamTests/nuget-test/obj/x86/Debug/nuget-test.exe.mdb' to '/Users/sushi/code/XamTests/nuget-test/bin/Debug/nuget-test.exe.mdb'
        Copying file from '/Users/sushi/code/XamTests/nuget-test/obj/x86/Debug/nuget-test.exe' to '/Users/sushi/code/XamTests/nuget-test/bin/Debug/nuget-test.exe'
Done building project "/Users/sushi/code/XamTests/nuget-test/nuget-test.psproj".

Build succeeded.
     0 Warning(s)
     0 Error(s)

Time Elapsed 00:00:01.8555370
</code></pre>

<p>That works, <strong>cool</strong>&hellip;</p>

<p>But that requires mod'ing complete copy of <code>Microsoft.CSharp.targets</code>.</p>

<p>So lets strip out everything but our PlayScript changes and import the std CSharp targets.</p>

<pre><code>&lt;Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003"&gt;
    &lt;Import Project="$(MSBuildBinPath)\Microsoft.CSharp.targets" /&gt;

    &lt;PropertyGroup&gt;
        &lt;DefaultLanguageSourceExtension&gt;.cs&lt;/DefaultLanguageSourceExtension&gt;
        &lt;Language&gt;PlayScript&lt;/Language&gt;
    &lt;/PropertyGroup&gt;

&lt;!-- PlayScript --&gt;
    &lt;PropertyGroup&gt;
        &lt;PlayScriptBinPath Condition=" '$(PsBuildBinPath)' == '' "&gt;/Users/sushi/Library/Application Support/XamarinStudio-5.0/LocalInstall/Addins/MonoDevelop.PlayScript.5.10.2/MonoDevelop.PlayScript.SupportPackages&lt;/PlayScriptBinPath&gt;
        &lt;CscToolExe Condition=" '$(CscToolExe)' == '' "&gt;psc&lt;/CscToolExe&gt;
        &lt;CscToolPath Condition=" '$(CscToolPath)' == '' "&gt;$(PsBuildBinPath)&lt;/CscToolPath&gt;
    &lt;/PropertyGroup&gt;
&lt;!-- PlayScript --&gt;

&lt;!--
    Note: Microsoft.CSharp.targets already imports Microsoft.Common.targets
          so if we need to override/replacement would need to do it after the 
          Microsoft.CSharp.targets import either in this file or by importing another
          file, i.e. PlayScript.Common.targets
          (this is where we will include our multimedia pipeline tasks)
    &lt;Import Project="$(MSBuildBinPath)\Microsoft.Common.targets" /&gt;
--&gt;

&lt;!-- PlayScript --&gt;
    &lt;Target Name="BeforeResolveReferences"&gt;
        &lt;CreateProperty
            Value="$(AssemblySearchPaths);$(PsBuildBinPath)"&gt;
            &lt;Output TaskParameter="Value" PropertyName="AssemblySearchPaths" /&gt;
        &lt;/CreateProperty&gt;
    &lt;/Target&gt;
&lt;!-- PlayScript --&gt;

    &lt;Import Project="$(MSBuildThisFileDirectory)\PlayScript.MSBuild.Debug.Targets" /&gt;
&lt;/Project&gt;
</code></pre>

<p>That works&hellip;</p>

<p>We still need to look into the custom Xamarin Mobile targets and  remove the hardcoded paths from our PlayScript targets, but lets leave that for another post.</p>
]]></content>
  </entry>
  
</feed>
